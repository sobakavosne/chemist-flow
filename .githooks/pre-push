#!/bin/sh

echo "Running scalafmt check..."
sbt scalafmtCheckAll

EXIT_CODE=$?

if [ $EXIT_CODE -ne 0 ]; then
  echo ""
  echo "======================================"
  echo "Code format violations detected. Please run 'sbt scalafmtAll' to format your code."
  echo "======================================"
  echo ""
  exit 1
fi

echo ""
echo "======================================"
echo "Code format check passed. Proceeding with push."
echo "======================================"
echo ""
exit 0
